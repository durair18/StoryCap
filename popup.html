<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="styles.css">
  <title>Event Screenshot Recorder</title>
  <style>
    /* Popup-only styles */
    .popup-root { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background: linear-gradient(180deg,#ffffff 0%, #f7f9fc 100%); padding: 12px; }
    .popup-card { background: #fff; border: 1px solid #e9eef5; border-radius: 12px; box-shadow: 0 6px 20px rgba(16,24,40,0.08); width: 300px; }
    .popup-header { display: flex; align-items: center; padding: 14px 16px 0 16px; }
    .brand { display: flex; gap: 10px; align-items: center; }
    .brand-icon { width: 28px; height: 28px; border-radius: 6px; }
    .brand-title { font-size: 16px; font-weight: 700; color: #111827; }
    .status { display: inline-flex; align-items: center; gap: 6px; font-size: 12px; font-weight: 600; padding: 4px 8px; border-radius: 999px; border: 1px solid; margin-top: 4px; width: fit-content; }
    .status .dot { width: 8px; height: 8px; border-radius: 50%; display: inline-block; }
    .status-ready { background: #f0fdf4; color: #065f46; border-color: #bbf7d0; }
    .status-ready .dot { background: #10b981; }
    .status-recording { background: #fef2f2; color: #991b1b; border-color: #fecaca; }
    .status-recording .dot { background: #ef4444; }
    .status-has-steps { background: #eef2ff; color: #3730a3; border-color: #c7d2fe; }
    .status-has-steps .dot { background: #6366f1; }
    .actions { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; padding: 16px; }
    .btn { background: #ffffff; border: 1px solid #e5e7eb; border-radius: 10px; padding: 10px 10px; cursor: pointer; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 6px; color: #111827; font-weight: 600; transition: transform .15s ease, box-shadow .15s ease, background .15s ease, border-color .15s ease; height: 86px; }
    .btn:hover { transform: translateY(-1px); background: #f9fafb; box-shadow: 0 6px 16px rgba(0,0,0,.06); }
    .btn:disabled { opacity: .6; cursor: not-allowed; transform: none; box-shadow: none; }
    .btn svg { width: 26px; height: 26px; }
    .btn.primary { border-color: #fecaca; background: #fff; }
    .btn.primary:hover { background: #fff5f5; }
    .btn.danger { border-color: #fde68a; }
    .btn.danger:hover { background: #fffbeb; }
    .btn span.label { font-size: 12px; color: #374151; }
    .badge { background: #1e40af; color: #fff; font-size: 11px; font-weight: 700; padding: 2px 6px; border-radius: 999px; line-height: 1; }
    .footer-hint { padding: 0 16px 14px 16px; color: #6b7280; font-size: 12px; }
  </style>
</head>
<body>
  <div class="popup-root">
    <div class="popup-card">
      <div class="popup-header">
        <div class="brand">
          <img src="icon.png" alt="StoryCap" class="brand-icon" />
          <div>
            <div class="brand-title">StoryCap</div>
            <div id="status-chip" class="status status-ready"><span class="dot"></span><span id="status-text">Ready</span></div>
          </div>
        </div>
      </div>
      <div class="actions">
        <button id="record-btn" class="btn primary" title="Start Recording">
          <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
            <circle cx="16" cy="16" r="12" fill="#ef4444"/>
          </svg>
          <span class="label">Start</span>
        </button>
        <button id="steps-btn" class="btn" title="View Steps" style="display:none;">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <rect x="4" y="6" width="16" height="2.5" rx="1.25" fill="#1e40af"/>
            <rect x="4" y="11" width="16" height="2.5" rx="1.25" fill="#1e40af"/>
            <rect x="4" y="16" width="16" height="2.5" rx="1.25" fill="#1e40af"/>
          </svg>
          <span class="label">Steps</span>
          <span id="steps-count-badge" class="badge" hidden>0</span>
        </button>
        <button id="delete-steps-btn" class="btn danger" title="Clear Steps" style="display:none;">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <rect x="5" y="7" width="14" height="2" rx="1" fill="#b91c1c"/>
            <rect x="7" y="9" width="10" height="10" rx="2" fill="#b91c1c"/>
            <rect x="9" y="11" width="1.5" height="6" rx="0.75" fill="#fff"/>
            <rect x="13.5" y="11" width="1.5" height="6" rx="0.75" fill="#fff"/>
          </svg>
          <span class="label">Clear</span>
        </button>
      </div>
      <div class="footer-hint">Click Start, interact on the page, then use the red dot to stop and edit your steps.</div>
    </div>
  </div>
  <script src="popup.js"></script>
</body>
</html> 